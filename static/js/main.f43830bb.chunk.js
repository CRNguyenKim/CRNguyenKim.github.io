(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{126:function(e,t){},128:function(e,t){},147:function(e,t,a){"use strict";a.r(t);var n=a(0),o=a.n(n),r=a(28),s=a.n(r),i=(a(93),a(94),a(9)),c=a(10),l=a(12),u=a(11),d=a(13),p=a(44),m=a(23),h=a(5),g=a(152),f=a(149),y=a(80),b=a(151),v=a(17),E=a(30),O=a.n(E),x="#303444",k="#80deea",w=["#af4448","#ff8a65","#ffd54f","#aed581","#00bfa5"],C=a(153),S=a(150),j=a(32),T=a(16),D=function(e,t){switch(t){case"hour":return e.map(function(e){var t=new Date(e);return+t.getHours()>12?t.getHours()+"PM":t.getHours()+"AM"});case"day":return e.map(function(e){var t=new Date(e);return"".concat(t.getDate(),"/").concat(t.getMonth())});case"month":return e.map(function(e){var t=new Date(e);return"".concat((t.getMonth()+1)%12===0?12:(t.getMonth()+1)%12,"/").concat(t.getFullYear())})}},I={responsive:{display:"flex",alignItems:"center"},rowOption:{margin:"10px 0px 10px 0px"},selected:{color:"#ffffff"}},A={DURATIONS:T.b,TIMER:T.j,LIMITS:T.f,VIEWS:T.c,LOCATIONS:T.g},R=function(e){function t(){return Object(i.a)(this,t),Object(l.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this;return this.props.data.length?this.props.dropdown?o.a.createElement(C.a.Group,{controlId:"exampleForm.ControlSelect1"},o.a.createElement(y.a,{xs:3,md:3,xl:3,sm:3,lg:3,style:{color:k}},o.a.createElement("p",{style:{margin:0}}," ",o.a.createElement(j.a,{icon:A[this.props.name.toUpperCase()]})," ")),o.a.createElement(C.a.Control,{as:"select",onChange:function(t){e.props.onOptionChange(e.props.name,t.target.value)},style:{backgroundColor:x,color:"#ffffff"}},this.props.data.map(function(e){return o.a.createElement("option",{key:e},e)}))):o.a.createElement(f.a,{style:Object(h.a)({},I.responsive,I.rowOption)},o.a.createElement(y.a,{xs:3,md:3,xl:3,sm:3,lg:3,style:{color:k}},o.a.createElement("p",{style:{margin:0}}," ",o.a.createElement(j.a,{icon:A[this.props.name.toUpperCase()]})," ")),o.a.createElement(y.a,{xs:9,md:9,xl:9,sm:9,lg:9,style:Object(h.a)({},I.responsive,{justifyContent:"center"})},o.a.createElement(S.a,{"aria-label":"Basic example"},this.props.data&&this.props.data.map(function(t){return o.a.createElement(b.a,{size:"sm",variant:"outline-info",key:t,style:e.props.selections[e.props.name]===t?I.selected:null,onClick:function(){return e.props.onOptionChange(e.props.name,t)}},t)})))):""}}]),t}(n.Component),L=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return(a=Object(l.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(o)))).onOptionChange=function(e,t){a.props.onOptionChange(e,t)},a}return Object(d.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this,t=this.props.dropdown?this.props.dropdown:[];return o.a.createElement(g.a,{fluid:!0},o.a.createElement(f.a,null,o.a.createElement(y.a,{xs:12,sm:12,md:12,xl:8,lg:8},Object.keys(this.props.options).map(function(a){return o.a.createElement(R,{name:a,data:e.props.options[a],key:a,onOptionChange:e.onOptionChange,selections:e.props.selections,dropdown:t.includes(a)})})),o.a.createElement(y.a,{xs:12,sm:12,md:12,xl:4,lg:4},o.a.createElement(f.a,{style:Object(h.a)({},I.responsive,I.rowOption)},o.a.createElement(y.a,{xs:3,md:3,xl:3,sm:3,lg:3,style:Object(h.a)({color:k},I.responsive)},o.a.createElement("p",{style:{margin:0}}," ",o.a.createElement(j.a,{icon:T.k}),"  ")),o.a.createElement(y.a,{xs:9,md:9,xl:9,sm:9,lg:9,style:Object(h.a)({color:k},I.responsive,{justifyContent:"center"})},o.a.createElement("p",{style:{margin:0}},function(e){e=Number(e);var t=Math.floor(e/3600),a=Math.floor(e%3600/60),n=Math.floor(e%3600%60);return("0"+t).slice(-2)+":"+("0"+a).slice(-2)+":"+("0"+n).slice(-2)}(this.props.countdown)))))))}}]),t}(n.Component),M=a(7),U=a.n(M),_="SET_MODES",G="SET_DURATIONS",N="SET_LIMITS",z="SET_TIMER",B="SET_VIEWS",H="SET_CATEGORIES",W="SET_LOCATIONS",Y="SET_COUNTDOWN",F="SET_DATA",P="SET_SERIES",V="APPEND_SERIES",X={modes:"",durations:"",limits:"",views:"",timer:"",series:[],data:[],labels:[],locations:[]};function J(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:X,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case e+_:return Object(h.a)({},t,{modes:a.payload.modes});case e+G:return Object(h.a)({},t,{durations:a.payload.durations});case e+N:return Object(h.a)({},t,{limits:a.payload.limits});case e+B:return Object(h.a)({},t,{views:a.payload.views});case e+z:return Object(h.a)({},t,{timer:a.payload.timer});case e+F:return Object(h.a)({},t,{data:a.payload.data});case e+H:return Object(h.a)({},t,{categories:a.payload.categories});case e+P:return Object(h.a)({},t,{series:a.payload.series});case e+V:return Object(h.a)({},t,{series:t.series.concat(a.payload.data)});case e+W:return Object(h.a)({},t,{locations:a.payload.locations});case e+Y:return Object(h.a)({},t,{countdown:a.payload.countdown});default:return t}}}var K,Q={token:localStorage.getItem("token"),isAuthenticated:null,isLoading:null,user:null},$=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Q,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"USER_LOADING":return Object(h.a)({},e,{isLoading:!0});case"USER_LOAD":return Object(h.a)({},e,{isLoading:!1,isAuthenticated:!0,user:t.payload.username});case"LOGIN_SUCCESS":return localStorage.setItem("token",t.payload.token),Object(h.a)({},e,{token:t.payload.token,isLoading:!1,isAuthenticated:!0,user:t.payload.username});case"LOGIN_FAILED":case"USER_LOGOUT":return localStorage.removeItem("token"),Object(h.a)({},e,{token:null,user:null,isAuthenticated:!1,isLoading:!1});default:return e}},q=a(21),Z="Authentication Error !",ee="Server error!",te={success:{},error:{}},ae=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:te,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GET_ERROR":return Object(h.a)({},e,{error:t.payload});case"GET_SUCCESS":return Object(h.a)({},e,{success:t.payload});case"CLEAR_MESSAGES":return{error:{},success:{}};default:return e}},ne=a(31),oe=a(81),re=Object(ne.c)({generalDashboard:J("generalChart"),circleDashboard:J("circleChart"),columnDashboard:J("columnChart"),auth:$,messages:ae}),se=Object(ne.d)(re,{},Object(ne.a)(oe.a)),ie=function(e,t,a){return{type:"".concat(a,"SET_").concat(e.toUpperCase()),payload:Object(q.a)({},e,t)}},ce=function(e,t){return{type:t+F,payload:{data:e}}},le=function(e,t){return{type:t+P,payload:{series:e}}},ue=function(e,t){return{type:t+V,payload:{data:e}}},de=function(e,t){return{type:t+Y,payload:{countdown:e}}},pe="day",me="/api/".concat("v1","/dashboard"),he=function(e,t){return e.map(function(e){return e[t]})},ge=function(e,t,a){return{data:e,name:t,type:a}},fe=(a(123),10),ye="circleChart";U.a.defaults.baseURL="https://nguyenkim.herokuapp.com",U.a.defaults.headers.common["Content-Type"]="application/x-www-form-urlencoded";var be={durations:["day","month"],timer:[10,60,3600],locations:[]},ve=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(l.a)(this,Object(u.a)(t).call(this,e))).getLocations=function(){var e="all";U.a.get("".concat(me,"/location?"),{params:{},headers:{"x-access-token":se.getState().auth.token}}).then(function(e){return e.data.data}).then(function(t){be.locations=[e].concat(he(t,"location"))})},a.updateCountdown=function(){0===fe?(a.update(),a.resetTimer()):fe-=1,se.dispatch(de(fe,ye))},a.resetTimer=function(){K&&clearInterval(K),fe=se.getState().circleDashboard.timer,K=setInterval(a.updateCountdown,1e3)},a.update=function(){var e=[],t=se.getState().circleDashboard.durations?se.getState().circleDashboard.durations:be.durations[0],n=se.getState().circleDashboard.locations?se.getState().circleDashboard.locations:be.locations[0];"all"===n&&(n=""),U.a.all([1,2,3,4,5].map(function(o){return a.updateDataByType(o,t,e,n)}))},a.optionChange=function(e,t){se.dispatch(ie(e,t,ye)),a.update(),a.resetTimer()},a.state={data:[],options:{labels:["rating 1","rating 2","rating 3","rating 4","rating 5"],chart:{id:ye,width:"60%",foreColor:k,fontFamily:"Helvetica, Arial, sans-serif",fontSize:800,toolbar:{show:!0,tools:{download:!0,selection:!0,zoom:!0,zoomin:!0,zoomout:!0,pan:!0,reset:!0}}},fill:{opacity:.9},title:{text:"Customer Rating Percentage",align:"left"},stroke:{colors:["transparent"]},theme:{palette:"palette1"},plotOptions:{pie:{customScale:1,offsetX:0,offsetY:0,expandOnClick:!0,dataLabels:{offset:0,minAngleToShowLabel:10},donut:{size:"55%",background:"transparent"}}},tooltip:{enabled:!1}}},a}return Object(d.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){this.getLocations(),Object.keys(be).map(function(e){return se.dispatch(ie(e,be[e][0],ye))}),this.update(),this.resetTimer()}},{key:"updateDataByType",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"hour",a=arguments.length>2?arguments[2]:void 0,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"";U.a.get("".concat(me,"/").concat("total","?"),{params:{rated:e,duration:t,limit:1,location:n},headers:{"x-access-token":this.props.auth.token}}).then(function(e){return e.data.data}).then(function(t){var n=he(t,"total")[0];a.push({data:n,name:e}),5===a.length&&(a.sort(function(e,t){return e.name>t.name?1:e.name<t.name?-1:0}),se.dispatch(ce(he(a,"data"),ye)))})}},{key:"componentWillUnmount",value:function(){K&&clearInterval(K)}},{key:"render",value:function(e){return o.a.createElement("div",{style:{borderRadius:0,marginTop:10,display:"flex",flexDirection:"column",background:x}},o.a.createElement(L,{options:be,selections:this.props.options,onOptionChange:this.optionChange,dropdown:["locations"],countdown:fe}),o.a.createElement(O.a,{options:this.state.options,series:this.props.options.data,type:"donut"}))}}]),t}(n.Component),Ee=Object(v.b)(function(e){return{options:e.circleDashboard,auth:e.auth}})(ve),Oe=a(22);U.a.defaults.baseURL="https://nguyenkim.herokuapp.com",U.a.defaults.headers.common["Content-Type"]="application/x-www-form-urlencoded";var xe,ke="generalChart",we=2,Ce=10,Se={modes:[],durations:["hour","day","month"],limits:[7,12,24],timer:[10,60,3600],views:["area","line"],categories:[]},je=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(l.a)(this,Object(u.a)(t).call(this,e))).resetSeries=function(){Oe.a.exec(ke,"resetSeries")},a.updateDataByType=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;U.a.get("".concat(me,"/avg?"),{params:{rated:t,duration:n,limit:o},headers:{"x-access-token":a.props.auth.token}}).then(function(e){return e.data.data}).then(function(t){var a=he(t,"average"),o=he(t,pe),r=D(o,n),s=ge(a,"rating AVG",se.getState().generalDashboard.views);se.dispatch(ue(s,ke));try{Oe.a.exec(ke,"updateOptions",{xaxis:{categories:r}}),"avg"===e&&Oe.a.exec(ke,"updateOptions",{yaxis:{min:0,tickAmount:5,max:5}})}catch(i){}se.dispatch(ce([s],ke))})},a.updateCountdown=function(){0===Ce?(a.update(),a.resetTimer()):Ce-=1,se.dispatch(de(Ce,ke))},a.resetTimer=function(){xe&&clearInterval(xe),Ce=se.getState().generalDashboard.timer,xe=setInterval(a.updateCountdown,1e3)},a.update=function(){a.updateDataByType(se.getState().generalDashboard.modes,1,se.getState().generalDashboard.durations,se.getState().generalDashboard.limits)},a.optionChange=function(e,t){se.dispatch(ie(e,t,ke)),a.update(),a.resetTimer()},a.state={countdown:"",series:[],optionsMixedChart:{chart:{width:"100%",background:x,id:ke},title:{text:"Average customer rating over time",align:"center"},colors:[k],stroke:{width:we,opacity:1,curve:"smooth"},markers:{size:0,strokeWidth:1,strokeOpacity:1,hover:{size:4}},yaxis:{tickAmount:5,min:0,max:5},grid:{borderColor:"#40475D"},theme:{mode:"dark"},legend:{offsetX:0,offsetY:-20,height:30,markers:{width:20,height:10,radius:12}},fill:{opacity:.7}}},a}return Object(d.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(e){Object.keys(Se).map(function(e){return se.dispatch(ie(e,Se[e][0],ke))}),this.updateDataByType(Se.modes[0],1,Se.durations[0],Se.limits[0]),this.resetTimer()}},{key:"componentWillUnmount",value:function(){xe&&clearInterval(xe)}},{key:"render",value:function(e){return o.a.createElement("div",{style:{borderRadius:0,marginTop:10,display:"flex",flexDirection:"column",background:x,minHeight:"45vw"}},o.a.createElement(L,{onOptionChange:this.optionChange,options:Se,selections:this.props.options,countdown:this.props.options.countdown}),o.a.createElement(O.a,{options:this.state.optionsMixedChart,series:this.props.options.data,type:"line"}))}}]),t}(n.Component),Te=Object(v.b)(function(e){return{options:e.generalDashboard,auth:e.auth}})(je),De=a(57);U.a.defaults.baseURL="https://nguyenkim.herokuapp.com",U.a.defaults.headers.common["Content-Type"]="application/x-www-form-urlencoded";var Ie,Ae="columnChart",Re=2,Le=10,Me={modes:[],durations:["hour","day","month"],limits:[7,12,24],timer:[10,60,3600],views:["column","area","line"]},Ue=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(l.a)(this,Object(u.a)(t).call(this,e))).getLocations=function(){U.a.get("".concat(me,"/location?"),{params:{},headers:{"x-access-token":a.props.auth.token}}).then(function(e){return e.data.data}).then(function(e){Me.locations=he(e,"location")})},a.updateDataByType=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,s={avg:"average",total:"total"};U.a.get("".concat(me,"/").concat(e,"?"),{params:{rated:t,duration:n,limit:o,location:r},headers:{"x-access-token":a.props.auth.token}}).then(function(e){return e.data.data}).then(function(o){var r=he(o,s[e]),i=he(o,pe),c=D(i,n),l=ge(r,"rating "+t,se.getState().columnDashboard.views);se.dispatch(ue(l,Ae));try{Oe.a.exec(Ae,"updateOptions",{xaxis:{categories:c}}),"avg"===e?Oe.a.exec(Ae,"updateOptions",{yaxis:{min:0,tickAmount:5,max:5}}):5===a.props.options.series.length&&Oe.a.exec(Ae,"updateOptions",{yaxis:{min:0,tickAmount:5,max:Math.max.apply(Math,Object(De.a)(a.props.options.series.map(function(e){return Math.max.apply(Math,Object(De.a)(e.data))})))}})}catch(d){}if(5===a.props.options.series.length){var u=a.props.options.series.sort(function(e,t){return e.name>t.name?1:e.name<t.name?-1:0});Oe.a.exec(Ae,"updateSeries",u),a.setState({series:u})}})},a.updateCountdown=function(){0===Le?(a.update(),a.resetTimer()):Le-=1,se.dispatch(de(Le,Ae))},a.resetTimer=function(){Ie&&clearInterval(Ie),Le=se.getState().columnDashboard.timer,Ie=setInterval(a.updateCountdown,1e3)},a.update=function(){var e="total";U.a.all([1,2,3,4,5].map(function(t){return a.updateDataByType(e,t,se.getState().columnDashboard.durations,se.getState().columnDashboard.limits,se.getState().columnDashboard.locations)})).then(function(e){return se.dispatch(le([],Ae))})},a.optionChange=function(e,t){se.dispatch(ie(e,t,Ae)),a.update(),a.resetTimer()},a.state={locations:[],series:[],optionsMixedChart:{chart:{width:"100%",background:x,id:Ae},title:{text:"Total customer rating over time",align:"center"},colors:w,stroke:{width:Re,opacity:1,curve:"smooth"},markers:{size:0,strokeWidth:1,strokeOpacity:1,hover:{size:4}},yaxis:{tickAmount:5,min:0,max:5},grid:{borderColor:"#40475D",xaxis:{lines:{show:!0}}},theme:{mode:"dark"},legend:{offsetX:0,offsetY:-20,height:60,markers:{width:30,height:20,radius:12}},fill:{opacity:.7},dataLabels:{enabled:!1}}},a}return Object(d.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(e){this.getLocations(),Object.keys(Me).map(function(e){return se.dispatch(ie(e,Me[e][0],Ae))}),se.dispatch(ie("durations",Me.durations[0],Ae)),this.update(),this.resetTimer()}},{key:"componentWillUnmount",value:function(){Ie&&clearInterval(Ie)}},{key:"render",value:function(e){return o.a.createElement("div",{style:{borderRadius:0,marginTop:10,display:"flex",flexDirection:"column",background:x,minHeight:"45vw"}},o.a.createElement(L,{onOptionChange:this.optionChange,options:Me,selections:this.props.options,dropdown:["locations"],countdown:this.props.options.countdown}),o.a.createElement(O.a,{options:this.state.optionsMixedChart,series:this.state.series,type:"bar"}))}}]),t}(n.Component),_e=Object(v.b)(function(e){return{options:e.columnDashboard,auth:e.auth}})(Ue),Ge=a(155);U.a.defaults.baseURL="https://nguyenkim.herokuapp.com",U.a.defaults.headers.common["Content-Type"]="application/x-www-form-urlencoded";var Ne,ze={container:{overflowY:"scroll",maxHeight:"20rem",backgroundColor:x,color:"#aaaaaa"}},Be=20,He=[T.a,T.d,T.h,T.i,T.e],We=function(e){var t=new Date(e.date);return o.a.createElement("p",null," ",t.toLocaleString()," ",o.a.createElement(j.a,{icon:He[e.rated-1]})," ",e.feedback," ")},Ye=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(l.a)(this,Object(u.a)(t).call(this,e))).update=function(){U.a.get("api/v1/dashboard/comment?",{params:{limit:Be},headers:{"x-access-token":localStorage.getItem("token")}}).then(function(e){return e.data.data}).then(function(e){a.setState({comments:e})})},a.state={comments:[]},a}return Object(d.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){this.update(),Ne=setInterval(this.update,1e3)}},{key:"componentWillUnmount",value:function(){Ne&&clearInterval(Ne)}},{key:"render",value:function(){return o.a.createElement(g.a,null,o.a.createElement(f.a,null,o.a.createElement("div",{style:{position:"sticky",top:0,background:x,width:"90%",height:"10%",color:k}},o.a.createElement("h3",null," Recent comments "))),o.a.createElement(f.a,{style:Object(h.a)({},ze.container,{maxHeight:"30vw"})},o.a.createElement(Ge.a,{variant:"flush"},this.state.comments.map(function(e,t){return o.a.createElement(We,{date:e.created_at,rated:e.rated,feedback:e.comment,key:t})}))))}}]),t}(n.Component);U.a.defaults.baseURL="https://nguyenkim.herokuapp.com",U.a.defaults.headers.common["Content-Type"]="application/x-www-form-urlencoded";U.a.defaults.baseURL="https://nguyenkim.herokuapp.com",U.a.defaults.headers.common["Content-Type"]="application/x-www-form-urlencoded";var Fe={responsive:{display:"flex",justifyContent:"center",alignItems:"center"},brand:{display:"flex",justifyContent:"center",alignItems:"center",minHeight:100,color:"#aaaaaa",fontFamily:"Quantico",background:x,margin:5,borderRadius:10},btn:{background:x,margin:10,borderRadius:10,minHeight:100,display:"flex",justifyContent:"center",alignItems:"center"}},Pe=Object(v.b)(function(e){return{isAuthenticated:e.auth.isAuthenticated}})(function(e){return localStorage.getItem("token")||e.isAuthenticated?o.a.createElement(g.a,{fluid:!0,style:{backgroundColor:"#202534"}},o.a.createElement(f.a,{style:Fe.responsive},o.a.createElement(y.a,{xs:9,md:9,xl:9,sm:9,lg:9,style:Fe.brand},o.a.createElement("h2",{style:{fontSize:"3vw",color:k}},"NGUYEN KIM RATING DASHBOARD")),o.a.createElement(y.a,{xs:2,md:2,xl:2,sm:2,lg:2,style:Fe.btn},o.a.createElement(b.a,{variant:"outline-info",onClick:function(){return se.dispatch(function(e,t){e({type:"USER_LOGOUT"})})}},"Logout"))),o.a.createElement(f.a,{style:Object(h.a)({},Fe.responsive)},o.a.createElement(y.a,{xs:11,md:11,xl:5,sm:11,lg:5,style:{border:"1px solid ".concat(x),background:x,borderRadius:10,margin:10}},o.a.createElement(Ee,null)),o.a.createElement(y.a,{xs:11,md:11,xl:5,sm:11,lg:5,style:{border:"1px solid ".concat(x),background:x,borderRadius:10,margin:10}},o.a.createElement(Te,null)),o.a.createElement(y.a,{xs:11,md:11,xl:10,sm:11,lg:10,style:{border:"1px solid ".concat(x),background:x,borderRadius:10,margin:10}},o.a.createElement(_e,null)),o.a.createElement(y.a,{xs:11,md:11,xl:10,sm:11,lg:10,style:{border:"1px solid ".concat(x),background:x,borderRadius:10,margin:10}},o.a.createElement(Ye,null)))):o.a.createElement(m.a,{to:"/login"})}),Ve=a(154),Xe=function(e){return e.display&&o.a.createElement(Ve.a,{variant:"danger",show:!0,dismissible:!0,onClose:e.onClose},o.a.createElement(Ve.a.Heading,null,e.heading),o.a.createElement("p",null,e.text))},Je={responsive:{display:"flex",justifyContent:"center",alignItems:"center"},brand:{display:"flex",justifyContent:"center",alignItems:"center",minHeight:80,color:"#aaaaaa",fontFamily:"Quantico",background:x,margin:"10px 20% 10px 20%"},text:{color:"#dddddd"}},Ke=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(l.a)(this,Object(u.a)(t).call(this,e))).state={username:"",password:""},a}return Object(d.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){this.setState({isAuthenticated:this.props.isAuthenticated})}},{key:"render",value:function(e){var t=this;return this.props.isAuthenticated?o.a.createElement(m.a,{to:"/"}):o.a.createElement(g.a,null,o.a.createElement(f.a,{style:Je.responsive},o.a.createElement(y.a,{xs:10,sm:10,md:12,lg:8,xl:8,style:Object(h.a)({},Je.brand)},o.a.createElement("h5",{style:{fontSize:"3vw",color:k,whiteSpace:"nowrap"}},"NGUYENKIM RATING DASHBOARD"))),o.a.createElement(f.a,{style:Je.responsive},o.a.createElement(y.a,{xs:10,sm:10,md:12,lg:8,xl:8,style:{background:x,padding:"5%"}},o.a.createElement(Xe,{display:Z in this.props.messages.error,onClose:function(){se.dispatch({type:"CLEAR_MESSAGES",payload:{}})},heading:Z,text:this.props.messages.error?this.props.messages.error[Z]:{}}),o.a.createElement(Xe,{display:ee in this.props.messages.error,onClose:function(){se.dispatch({type:"CLEAR_MESSAGES",payload:{}})},heading:ee,text:this.props.messages.error?this.props.messages.error[ee]:{}}),o.a.createElement(C.a,{fullWidth:!0},o.a.createElement("h1",{style:{color:"#dddddd"}},"Login"),o.a.createElement(C.a.Group,{controlId:"formBasicEmail",lg:!0},o.a.createElement(C.a.Label,{style:Je.text},"Username"),o.a.createElement(C.a.Control,{type:"text",placeholder:"admin",size:"lg",style:{backgroundColor:x,color:"#ffffff"},value:this.state.username,onChange:function(e){return t.setState({username:e.target.value})}}),o.a.createElement(C.a.Text,{className:"text-muted"},"Admin login only!")),o.a.createElement(C.a.Group,{controlId:"formBasicPassword",lg:!0},o.a.createElement(C.a.Label,{style:Je.text},"Password"),o.a.createElement(C.a.Control,{type:"password",placeholder:"password",size:"lg",style:{backgroundColor:x,color:"#ffffff"},value:this.state.password,onChange:function(e){return t.setState({password:e.target.value})}})),o.a.createElement(b.a,{variant:"info",type:"button",onClick:function(){return se.dispatch((e=t.state.username,a=t.state.password,function(t){U.a.post("api/v1/auth/login",{username:e,password:a}).then(function(e){t({type:"LOGIN_SUCCESS",payload:e.data})}).catch(function(e){e.response?t({type:"GET_ERROR",payload:Object(q.a)({},Z,"Invalid login or password")}):t({type:"GET_ERROR",payload:Object(q.a)({},ee,"Sever is not responding!")})})}));var e,a}},"Submit")))))}}]),t}(n.Component),Qe=Object(v.b)(function(e){return{isAuthenticated:e.auth.isAuthenticated,messages:e.messages}})(Ke),$e=function(e){function t(){return Object(i.a)(this,t),Object(l.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){se.dispatch(function(e,t){e({type:"USER_LOADING"});var a=t().auth.token;U.a.get("/api/v1/auth/user",{params:{},headers:{"x-access-token":a}}).then(function(t){return e({type:"USER_LOAD",payload:t.data})}).catch(function(t){t.response||e({type:"GET_ERROR",payload:Object(q.a)({},ee,"Sever is not responding!")})})})}},{key:"render",value:function(){return o.a.createElement(p.a,null,o.a.createElement(m.d,null,o.a.createElement(m.b,{path:"/login",component:Qe}),o.a.createElement(m.b,{exact:!0,path:"/",component:Pe})))}}]),t}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(o.a.createElement(v.a,{store:se},o.a.createElement($e,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},88:function(e,t,a){e.exports=a(147)},94:function(e,t,a){}},[[88,1,2]]]);
//# sourceMappingURL=main.f43830bb.chunk.js.map